<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Ø«Ø¨Øª Ù†Ø§Ù…</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<button class="theme-btn" onclick="toggleTheme()">ğŸŒ™ / â˜€ï¸</button>

<div class="card">
    <h2 style="color:#4e73df; margin-bottom:20px;">âœ¨ Ø§ÛŒØ¬Ø§Ø¯ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h2>
    <p id="msg" style="color:red; font-weight:bold;"></p>

    <input id="user" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ" class="input-field">
    <input id="pass" type="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±" class="input-field">
    <input id="pass2" type="password" placeholder="ØªÚ©Ø±Ø§Ø± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±" class="input-field">

    <p style="margin:5px 0; font-weight:bold;">Ú©Ø¯ Ø§Ù…Ù†ÛŒØªÛŒ: <span id="captcha"></span></p>
    <input id="cap" placeholder="Ú©Ø¯ Ø§Ù…Ù†ÛŒØªÛŒ" class="input-field">

    <button onclick="signup()" class="btn">Ø«Ø¨Øª Ù†Ø§Ù…</button>
    <br><br>
    <a href="login.html" style="color:#4e73df; text-decoration:none;">Ù‚Ø¨Ù„Ø§Ù‹ Ø­Ø³Ø§Ø¨ Ø¯Ø§Ø±ÛŒØŸ ÙˆØ±ÙˆØ¯</a>
</div>

<script>
function toggleTheme(){
    document.body.classList.toggle("dark");
    localStorage.setItem("theme",
        document.body.classList.contains("dark") ? "dark" : "light"
    );
}
if(localStorage.getItem("theme")=="dark")
    document.body.classList.add("dark");

let code = Math.floor(1000 + Math.random()*9000);
document.getElementById("captcha").innerText = code;

function signup(){
    let u = document.getElementById("user").value;
    let p = document.getElementById("pass").value;
    let p2 = document.getElementById("pass2").value;
    let c = document.getElementById("cap").value;
    let msg = document.getElementById("msg");

    if(!u || !p || !p2 || !c){
        msg.innerText = "âŒ Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª";
        return;
    }
    if(p !== p2){
        msg.innerText = "âŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¨Ø§ ØªÚ©Ø±Ø§Ø± Ø¢Ù† Ù…Ø·Ø§Ø¨Ù‚Øª Ù†Ø¯Ø§Ø±Ø¯";
        return;
    }
    if(c != code){
        msg.innerText = "âŒ Ú©Ø¯ Ø§Ù…Ù†ÛŒØªÛŒ Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª";
        return;
    }

    localStorage.setItem("username", u);
    localStorage.setItem("password", p);
    alert("âœ… Ø«Ø¨Øª Ù†Ø§Ù… Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯");
    location.href="login.html";
}
</script>

</body>
</html>
